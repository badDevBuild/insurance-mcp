# 保险领域垂直信息 MCP 服务器项目宪章 (Project Constitution)

## 1. 项目愿景 (Vision)
构建一个**高准确度**、**可信赖**的保险领域垂直信息基础设施。
我们的目标是消除通用 AI 在处理严肃保险决策时的"幻觉"和"细节混淆"问题，成为 AI 客户端获取保险产品条款及相关信息的权威来源。

## 2. 核心原则 (Core Principles)

### 2.1 准确性高于一切 (Accuracy Over Everything)
*   **零容忍幻觉**：在无法确定答案时，系统应明确返回"未找到相关条款"或"无法确认"，绝不生成似是而非的答案。
*   **原文优先**：所有的回答必须基于真实的保险条款原文，严禁模型进行过度推断或创造性加工。

### 2.2 来源可追溯 (Source Traceability)
*   **有据可查**：MCP 服务返回的每一条信息，都必须包含其来源（Source Reference），精确到具体的条款文件、页码或章节。
*   **原始文件锚点**：必须保留从结构化数据回溯到原始 PDF 的能力。

### 2.3 人机协同质量控制 (Human-in-the-Loop QA)
*   **人工审核机制**：承认 OCR 和自动转换的不完美性，关键数据（特别是费率表、除外责任、理赔条件）在入库前必须经过人工或严格的校验规则审核。
*   **黄金数据集**：维护一份高标准的人工清洗数据集，用于评估系统的检索和回答质量。

## 3. 系统架构与工作流 (System Architecture & Workflow)

项目分为五个严格定义的阶段：

1.  **数据采集层 (Crawler)**
    *   **目标**：仅从官方渠道（保险公司官网、行业协会公开披露平台）获取数据。
    *   **对象**：初期仅专注于**保险条款 PDF**。
    *   **规范**：保留原始文件的元数据（下载链接、下载时间、文件哈希值）。

2.  **数据清洗与转换层 (ETL & Formatting)**
    *   **核心任务**：PDF -> Markdown。
    *   **格式要求**：
        *   必须保留文档的层级结构（标题、子标题）。
        *   表格必须转换为标准的 Markdown 表格或保留语义的结构化文本，严禁破坏表格的行列对应关系。
    *   **工具链**：结合 OCR 和文档解析技术（如 Marker, Unstructured, Microsoft Azure DI 等）。

3.  **质量审核层 (Quality Assurance)**
    *   **人工介入**：对转换后的 Markdown 进行人工抽检或全量审核。
    *   **清洗**：去除页眉、页脚、水印等无用噪音。

4.  **语义索引层 (Vectorization & Storage)**
    *   **分块策略 (Chunking)**：基于语义的切片，而非单纯的字符长度切片。一个保险条款（如"责任免除"）应尽可能完整地保留在一个或相邻的块中。
    *   **混合检索**：支持语义检索（Vector Search）与关键词检索（Keyword Search）的混合模式，以确保专有名词的匹配精度。

5.  **MCP 服务层 (MCP Server)**
    *   **协议**：遵循 Model Context Protocol 标准。
    *   **工具设计**：提供精确的工具供 AI 客户端调用（如 `search_policy_terms`, `get_exclusion_clauses`）。

## 4. 数据规范 (Data Standards)

### 4.1 PDF 处理
*   所有原始 PDF 必须归档保存，文件名应包含唯一标识符。
*   对于扫描件 PDF，必须使用高精度 OCR。

### 4.2 Markdown 结构规范
*   **一级标题 (#)**：保险产品名称。
*   **二级标题 (##)**：条款大类（如：保险责任、责任免除、保险期间）。
*   **三级标题 (###)**：具体条款细项。
*   **引用**：原文中的重要定义，建议使用引用块（>）标识。

## 5. 开发与工程规范 (Engineering Standards)

*   **语言**：Python 3.10+。
*   **代码风格**：遵循 PEP 8，使用 Type Hints。
*   **测试**：
    *   核心解析逻辑必须有单元测试。
    *   MCP 工具必须有端到端的集成测试。
*   **数据库**：
    *   向量数据库：推荐 ChromaDB / PostgreSQL (pgvector) / Pinecone。
    *   元数据存储：SQLite / PostgreSQL。

## 6. 路线图 (Roadmap)

*   **Phase 1 (当前)**：条款数据爬取 -> PDF 转 Markdown -> 向量化 -> 基础检索 MCP。
*   **Phase 2**：引入复杂的表格解析优化，支持费率表查询。
*   **Phase 3**：加入保险产品对比功能。
*   **Phase 4**：构建保险知识图谱（实体关系：险种-属于-公司，条款-包含-责任）。

